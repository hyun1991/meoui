<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="siteMapper">

	
	<!-- 1. 관광지 추가 -->
	<insert id="insertSite" parameterType="Site">
		
		<selectKey keyProperty="siteNo" resultType="int" order="BEFORE">
			select site_seq.nextval from dual
		</selectKey>
		<![CDATA[
			insert into site(site_no,site_name,site_park,site_object,site_img,site_introduce,site_homepage,site_open_time,site_close_time,site_phone,site_night_open,site_night_close_time,users_no)
			values(#{site_no},#{site_name,#{site_park},#{site_object},#{site_img},#{site_introduce},#{site_homepage},#{site_open_time},#{site_close_time},#{site_phone},#{site_night_open},#{site_night_close_time},#{users_no})
		]]>
	</insert>
	
	<!-- 2. 관광지 수정 -->
	<update id="updateSite" parameterType="Site">
		<![CDATA[
			update site set site_img=#{site_img},site_introduce=#{site_introduce},site_homepage=#{site_homepage}
			,site_open_time=#{site_open_time},site_close_time=#{site_close_time},site_phone=#{site_phone},site_night_open=#{site_night_open},site_night_close_time=#{site_night_close_time} where site_no=#{site_no}   
		]]>
	</update>
	
	<!-- 3. 관광지 삭제 -->
	<delete id="deleteSite" parameterType="String">
		delete from site where site_name=#{site_name}
	</delete>
	
	<!-- 4. 전체 관광지리스트 -->
	<select id="selectAllSite"  resultType="Site">
		select * from site
	</select>
	
	<!-- 5. 이름으로 관광지 찾기 -->
	<select id="selectSiteByName" parameterType="String" resultType="Site">
		select * from site where site_name=#{site_name}
	</select>
	
	
</mapper>