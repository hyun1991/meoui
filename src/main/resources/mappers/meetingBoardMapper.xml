<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="MeetingBoardMapper">

	<!-- 1. 모임게시판 작성 -->

	<insert id="insertMeetingBoard" parameterType="MeetingBoard">
		<selectKey keyProperty="meetingboardNo" resultType="int"
			order="BEFORE">
			select meetingboard_seq.nextval from dual
		</selectKey>
<![CDATA[
 insert into notice
(meetingboard_no, meetingboard_title, meetingboard_content, 
meetingboard_date, meetingboard_cnt, meetingboard_img, 
member_no, meeting_no)
 values(#{meetingboardNo},#{meetingboardtitle},#{meetingnoardContent},
 sysdate, #{meetingboardCnt}, #{meetingboardImg}, 
#{memberNo}	, #{meetingNo})
]]>
	</insert>

	<select id="selectAllmeetinBoard" parameterType="HashMap"
		resultType="MeetingBoard">
		<![CDATA[
	select t2.*from(select rownum rnum, t1.* from
	(select meetingboard_no, meetingboard_title, meetingboard_content, meetingboard_date, 
	meetingboard_cnt, meetingboard_img, member_no, meeting_no from MEETINGBOARD
	order by meetingboard_no desc)t1)t2 
	where rnum
	between #{start} and #{last}
]]>
	</select>
	
	<select id="meetingBoardCount" resultType="int">
		<![CDATA[select count(meetingboard_no) from meetingboard
		]]>
	</select>
</mapper>

